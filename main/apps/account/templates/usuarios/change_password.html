<form action="{{ request.path }}"  method="post" class="modal-content">
    {% csrf_token %}
    <div class="modal-body">
        <div class="form-group">
            <label>Tem certeza que deseja alterar sua senha?</label>
        </div>
        <div class=" mb-3 mb-sm-0">
            <input type="hidden" required="required" id="id" name="id" placeholder="id">
        </div>
        <div class=" mb-3 mb-sm-0">
            <label for="senha" class="form-label custom-label">Senha</label>
            <input type="password" required="required" class="form-control form-control-user" id="senha" name="senha" placeholder="Senha">
        </div>
        <div class="">
            <label for="resenha" class="form-label custom-label">Confirmar senha</label>
            <input type="password" required="required" class="form-control form-control-user" id="resenha" name="resenha" placeholder="Confirmar senha...">
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">
            <i class="fas fa-times mr-1"></i> Voltar
        </button>
        <button type="submit" class="btn btn-primary" onClick="this.form.submit(); this.disabled=true; this.value='Enviando'; ">
            <i class="fas fa-check mr-1"></i> Alterar
        </button>
    </div>
</form>


{% block custom_js %}
<script>
    let senha = document.getElementById('senha');
    let senhaC = document.getElementById('resenha');

    function validarSenha() {
    if (senha.value != senhaC.value) {
        senhaC.setCustomValidity("Senhas diferentes!");
        senhaC.reportValidity();
        return false;
    } else {
        senhaC.setCustomValidity("");
        return true;
    }
    }

    // verificar tamb√©m quando o campo for modificado, para que a mensagem suma quando as senhas forem iguais
    senhaC.addEventListener('input', validarSenha);
</script>
{% endblock custom_js %}